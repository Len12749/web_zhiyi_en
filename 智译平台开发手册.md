# 智译平台开发手册



> [!NOTE]
>
> 为了更简洁、整齐的可读性，本文特此将各个板块的具体内容都设置了超链接.



## 项目概述

### 核心技术栈

**前端技术**

- **框架**: Next.js 14 + React 18
- **语言**: TypeScript 5.3+
- **样式**: Tailwind CSS 3.4
- **动画**: Framer Motion 10.16

**后端技术**

- **数据库**: PostgreSQL 16 (通过Supabase本地实例)
- **ORM**: Drizzle ORM 0.29
- **API**: Next.js API Routes + FastAPI微服务

**微服务架构**

- **PDF解析服务** (Python FastAPI, Port 8002)
- **手写图片识别服务** (Python FastAPI, Port 8004)
- **Markdown翻译服务** (Python FastAPI, Port 8003)
- **PDF保留排版翻译服务** (Python FastAPI, Port 8005)
- **格式转换服务** (Python FastAPI, Port 8001)



## 项目结构

```cmd
web_zhiyi/
├── actions/                          # 后端业务逻辑层
│   ├── auth/user-actions.ts         # 用户认证操作
│   ├── tasks/task-actions.ts        # 任务管理操作
│   ├── points/point-actions.ts      # 积分系统操作
│   └── notifications/               # 通知相关操作
│
├── app/                             # Next.js前端应用
│   ├── api/                         # API路由
│   │   ├── sse/                     # SSE连接端点
│   │   ├── tasks/                   # 任务相关API
│   │   ├── files/                   # 文件处理API
│   │   └── user/                    # 用户相关API
│   ├── [功能模块]/                   # 功能页面
│   │   ├── page.tsx                 # 页面组件
│   │   └── _components/             # 页面组件
│   └── layout.tsx                   # 应用布局
│
├── components/                      # 共享组件
│   ├── ui/                         # 基础UI组件
│   ├── layout/navigation.tsx       # 导航组件
│   ├── common/                     # 通用业务组件
│   └── providers/                  # 全局Provider
│
├── db/                             # 数据库相关
│   ├── schema/                     # 数据库模式定义
│   ├── migrations/                 # 数据库迁移
│   └── index.ts                    # 数据库连接
│
├── lib/                            # 工具函数库
│   ├── hooks/                      # 自定义React hooks
│   ├── sse/                        # SSE相关工具
│   ├── processing/                 # 文件处理工具
│   └── utils.ts                    # 通用工具函数
│
├── services/                       # Python微服务
│   ├── pdf_to_markdown/            # PDF解析服务
│   ├── image-to-markdown/          # 手写图片识别服务
│   ├── md_translate/               # Markdown翻译服务
│   ├── pdf_translator/             # PDF保留排版翻译服务
│   └── format-conversion/          # 格式转换服务
│
├── scripts/                        # 管理脚本
│   ├── admin_script.py             # 积分管理工具
│   └── services/                   # 服务启动脚本
│
└── types/index.ts                  # TypeScript类型定义
```



## 功能介绍

### 后端actions

见附件：\- [智译平台后端actions文档](actions/智译平台后端actions文档.md)



### 前端app

见附件：\- [智译平台前端app文档](app/智译平台前端app文档.md)



### 可复用组件components

见附件：\- [智译平台可复用组件components文档](components/智译平台可复用组件components文档.md)



### 数据库操作db

见附件：\- [智译平台数据库操作db文档](db/智译平台数据库操作db文档.md)



### 工具函数库lib

见附件：\- [智译平台工具函数库lib文档](lib/智译平台工具函数库lib文档.md)



### 核心业务services

见附件：\- [智译平台核心业务services文档](services/智译平台核心业务services文档.md)



### 工具scripts

见附件：\- [智译平台工具scripts文档](scripts/智译平台工具scripts文档.md)



### Typescript类型定义types

见附件：\- [智译平台Typescript类型定义types文档](types/智译平台Typescript类型定义types文档.md)



## 异步架构设计

见附件：\- [智译平台异步架构设计文档](部分板块文档/智译平台异步架构设计文档.md)



## 网络服务架构设计

见附件：\- [智译平台网络服务架构设计文档](部分板块文档/智译平台网络服务架构设计文档.md)



## 项目部署

### 本地服务器部署

见附件：\- [智译平台本地服务器部署文档](部分板块文档/智译平台本地服务器部署文档.md)



### 云端服务器部署

见附件：\- [智译平台云端服务器部署文档](部分板块文档/智译平台云端服务器部署文档.md)



## API文档

```
│   ├── pdf_to_markdown/            # PDF解析服务
│   ├── image-to-markdown/          # 图片转换服务
│   ├── md_translate/               # Markdown翻译服务
│   ├── pdf_translator/             # PDF翻译服务
│   └── format-conversion/          # 格式转换服务
```

见附件：\- [智译平台API文档](部分板块文档/智译平台API文档.md)



## 数据库设计

见附件：\- [智译平台数据库设计文档](部分板块文档/智译平台数据库设计文档.md)